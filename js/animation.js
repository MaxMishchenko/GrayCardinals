let scrollTimeout,currentScale=1,isAOSInitialized=!1,animatedElements=new Set,isScrolling=!1;function scaleContentAndAdjustAOS(){const e=window.innerWidth,t=document.querySelector(".wrapper");if(e>425){currentScale=e/1920,t.style.transform=`scale(${currentScale})`,t.style.transformOrigin="top left",t.style.width="1920px";const n=t.scrollHeight*currentScale;document.body.style.height=`${n}px`,document.body.style.overflow="hidden",document.documentElement.style.overflow="auto",initAOSWithCorrectOffset()}else currentScale=1,t.style.transform="none",t.style.width="auto",document.body.style.height="auto",document.body.style.overflow="auto",document.documentElement.style.overflow="auto",initSimpleMobileAOS()}function getElementId(e){if(e.id)return e.id;if(e.dataset.aosId)return e.dataset.aosId;const t=`aos-element-${Array.from(document.querySelectorAll("[data-aos]")).indexOf(e)}`;return e.dataset.aosId=t,t}function initSimpleMobileAOS(){AOS.init({offset:50,once:!0,duration:600,easing:"ease-out",startEvent:"load",useClassNames:!1,disableMutationObserver:!0,debounceDelay:50,throttleDelay:99}),isAOSInitialized=!0,setTimeout(()=>checkVisibleElementsOnce(),300)}function initAOSWithCorrectOffset(){isAOSInitialized||(AOS.init({offset:1!==currentScale?50:120,once:!0,duration:600,easing:"ease-out",startEvent:"load",useClassNames:!1,disableMutationObserver:!0,debounceDelay:50,throttleDelay:99}),isAOSInitialized=!0),setTimeout(()=>{adjustOffsetsForScale(),checkVisibleElementsOnce()},200)}function adjustOffsetsForScale(){document.querySelectorAll("[data-aos]:not(.aos-animate)").forEach(e=>{const t=e.getBoundingClientRect(),n=Math.floor((t.top-.8*window.innerHeight)/currentScale);e.setAttribute("data-aos-offset",n)}),AOS.refresh()}function checkVisibleElementsOnce(){const e=window.innerHeight,t=window.innerWidth<=425;window.pageYOffset||document.documentElement.scrollTop;document.querySelectorAll("[data-aos]:not(.aos-animate)").forEach(n=>{const o=n.getBoundingClientRect(),i=getElementId(n);if(animatedElements.has(i))return;(t?o.top<.9*e&&o.bottom>0:o.top<.85*e&&o.bottom>0)&&(n.classList.add("aos-animate"),animatedElements.add(i))})}function handleScroll(){clearTimeout(scrollTimeout),scrollTimeout=setTimeout(()=>{checkVisibleElementsOnce()},60)}function scrollToElement(e){const t=window.innerHeight;if(window.innerWidth<=425)return void e.scrollIntoView({behavior:"smooth",block:"start"});currentScale=window.innerWidth/1920;e.getBoundingClientRect();let n=window.pageYOffset||document.documentElement.scrollTop,o=0,i=e;for(;i;)o+=i.offsetTop,i=i.offsetParent;const s=t<600?60:t<800?80:100;let l=1!==currentScale?o*currentScale-s:o-s;const a=l-n;if(Math.abs(a)<10)return void window.scrollTo(0,l);const c=Math.min(.5*Math.abs(a),800);let r=null;requestAnimationFrame(function e(t){null===r&&(r=t);const o=Math.min((t-r)/c,1),i=n+a*(o<.5?4*o**3:(o-1)*(2*o-2)**2+1);window.scrollTo(0,i),o<1&&requestAnimationFrame(e)})}function handleAnchorNavigation(){document.addEventListener("click",e=>{const t=e.target.closest('a[href^="#"]');if(!t||"#"===t.getAttribute("href"))return;e.preventDefault();const n=t.getAttribute("href").substring(1),o=document.getElementById(n);o&&scrollToElement(o)}),["load","hashchange"].forEach(e=>{window.addEventListener(e,()=>{const t=location.hash.substring(1),n=document.getElementById(t);n&&setTimeout(()=>scrollToElement(n),"load"===e?500:100)})})}function reinitialize(){const e=window.pageYOffset/Math.max(document.body.scrollHeight,1);animatedElements.clear(),document.querySelectorAll("[data-aos]").forEach(e=>{e.classList.remove("aos-animate"),e.removeAttribute("data-aos-offset"),delete e.dataset.aosId}),AOS.refreshHard(),setTimeout(()=>{scaleContentAndAdjustAOS(),setTimeout(()=>{window.scrollTo(0,e*Math.max(document.body.scrollHeight,1));const t=document.querySelector(location.hash);t&&setTimeout(()=>scrollToElement(t),200)},150)},50)}function initializePage(){scaleContentAndAdjustAOS(),handleAnchorNavigation(),setTimeout(()=>checkVisibleElementsOnce(),500)}function isMobile(){return window.innerWidth<=425}document.addEventListener("DOMContentLoaded",initializePage),window.addEventListener("load",()=>setTimeout(checkVisibleElementsOnce,300)),window.addEventListener("resize",()=>clearTimeout(scrollTimeout)||(scrollTimeout=setTimeout(reinitialize,200))),window.addEventListener("scroll",handleScroll,{passive:!0}),document.addEventListener("visibilitychange",()=>{document.hidden||setTimeout(()=>!isMobile()&&checkVisibleElementsOnce(),200)}),setTimeout(()=>{!isMobile()&&document.querySelectorAll("[data-aos]:not(.aos-animate)").length>0&&checkVisibleElementsOnce()},2e3);